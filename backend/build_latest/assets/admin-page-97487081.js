import{P as e,j as t,B as m,S as d,T as u,c as v,L as O,r as x,a6 as T,W as w}from"./index-3f864ce5.js";import{u as k,C as W}from"./use-chart-cf990de8.js";import{C as g}from"./Card-3b3e7eaf.js";import{C as A}from"./CardHeader-2f38aac5.js";import{a as D}from"./format-number-0f871e04.js";import{D as P}from"./Divider-f3008678.js";import{C as R}from"./Container-364b34e6.js";import{G as j}from"./Grid2-12a26e85.js";import{C as I}from"./CircularProgress-792fe92d.js";function f({max:s,title:a,subheader:i,chart:o,...n}){const{labels:l,colors:r,series:c,options:h}=o;console.log(s);const S=k({colors:r,plotOptions:{bar:{columnWidth:"30%"}},fill:{type:c.map(p=>p.fill)},labels:l,yaxis:{min:0,tickAmount:s},tooltip:{shared:!0,intersect:!1,y:{formatter:p=>typeof p<"u"?`${p.toFixed(0)} people`:p}},...h});return t.jsxs(g,{...n,children:[t.jsx(A,{title:a}),t.jsx(m,{sx:{p:3,pb:1},children:t.jsx(W,{dir:"ltr",type:"line",series:c,options:S,width:"100%",height:200})})]})}f.propTypes={chart:e.object,subheader:e.string,title:e.string,max:e.number};function y({title:s,total:a,icon:i,color:o="primary",sx:n,usef:l,...r}){return t.jsxs(g,{component:d,spacing:3,direction:"row",sx:{px:5,py:1,borderRadius:2,justifyContent:"center",...n},...r,children:[i&&t.jsx(m,{sx:{width:64,height:64},children:i}),t.jsxs(d,{direction:"row",spacing:2,sx:{textAlign:"center",justifyContent:"center"},children:[t.jsx(u,{variant:"h4",sx:{color:"text.disabled"},children:s}),l?t.jsx(u,{variant:"h4",children:D(a)}):t.jsx(u,{variant:"h4",children:a})]})]})}y.propTypes={color:e.string,icon:e.oneOfType([e.element,e.string]),sx:e.object,title:e.string,total:e.number,usef:e.bool};const E=100;function b({image:s,subheader:a,list:i,sort:o,...n}){return console.log(i),t.jsxs(g,{...n,children:[t.jsx(v,{children:t.jsx(d,{spacing:3,sx:{p:3,pr:0},children:i.map((l,r)=>(console.log(l),t.jsx(C,{news:l,image:s},r)))})}),t.jsx(P,{sx:{borderStyle:"dashed"}})]})}b.propTypes={subheader:e.string,list:e.any.isRequired,sort:e.array.isRequired,image:e.string};function C({news:s}){const{image:a,title:i,date:o,total:n}=s;return console.log(Object.keys(o)),console.log(Object.values(o)),t.jsxs(d,{direction:"column",children:[t.jsxs(d,{direction:"row",alignItems:"center",spacing:2,position:"relative",justifyContent:"left",children:[t.jsx(m,{component:"img",alt:i,src:a,sx:{width:48,height:48,borderRadius:1.5,flexShrink:0,objectFit:"contain"}}),t.jsx(m,{sx:{minWidth:240},children:t.jsx(O,{color:"inherit",href:`/adminpage/${i}Result`,variant:"subtitle2",underline:"hover",noWrap:!0,children:i})}),t.jsx(d,{direction:"column",sx:{maxWidth:E},children:t.jsx(y,{title:"Total",total:n,color:"success",usef:1})})]}),t.jsx(f,{title:"Daily Hits",subheader:"Daily Hits",chart:{labels:Object.keys(o),series:[{name:"Daily Hits",type:"column",fill:"solid",data:Object.values(o)}]},max:Math.max.apply(null,Object.values(o))})]})}C.propTypes={news:e.shape({title:e.string,image:e.string,total:e.number,date:e.object}),image:e.string};const F="en",H=5;function L(){const[s,a]=x.useState({}),[i,o]=x.useState(!0),n=localStorage.getItem("token");x.useEffect(()=>{(async()=>{try{const c=await fetch("https://leadershipsurvey.pythonanywhere.com/send_to_adminpage/",{method:"POST",headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},body:JSON.stringify({language:F,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone})});if(c.ok){const h=await c.json();console.log(h),a(h),o(!1)}}catch(c){console.error("Error fetching data:",c)}})()},[n]);const l=s.data?Object.values(s.data).filter(r=>r.isCompleted===1):[];return console.log(l),t.jsxs(R,{maxWidth:"xl",children:[t.jsx(u,{variant:"h4",sx:{mb:5},children:"Admin Page ðŸ‘‹"}),t.jsxs(j,{container:!0,spacing:3,children:[t.jsx(T,{}),t.jsx(j,{xs:12,md:12,lg:12,children:i?t.jsx(I,{}):t.jsx(b,{list:s.data.sort.slice(1,H).map(r=>(console.log(r),{title:s.data[r].title,date:s.data[r].date,total:s.data[r].meta.total,image:s.data[r].image})),sort:s.data.sort})})]})]})}function U(){return t.jsxs(t.Fragment,{children:[t.jsx(w,{children:t.jsx("title",{children:" SignUp "})}),t.jsx(L,{})]})}export{U as default};
