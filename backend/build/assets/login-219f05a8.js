import{u as b,r as p,j as e,S as i,I,a,L as u,B as C,R as S,q as l,U as D,T as d,d as h,W as k}from"./index-abd9d734.js";import{T as g}from"./TextField-6c2e59f7.js";import{I as L}from"./InputAdornment-946208b2.js";import{L as F}from"./LoadingButton-e41ba021.js";import{C as T}from"./Card-78dc38aa.js";import{D as P}from"./Divider-d3b3e92d.js";import"./Select-6827cbdb.js";import"./Menu-405e98c2.js";import"./useControlled-d6e93d8b.js";import"./useId-ec69b81d.js";import"./formControlState-fcb6e587.js";import"./isMuiElement-6efd92b7.js";import"./CircularProgress-a4306dfc.js";function W(){const s=b(),[c,f]=p.useState(!1),[t,x]=p.useState({userid:"",password:""});function m(o){const r={...t};r[o.target.name]=o.target.value,x(r)}const j=async o=>{o.preventDefault(),console.log(t);try{const n=await(await fetch("http://127.0.0.1:8000/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();if(console.log(n),n.message==="success"){console.log("로그인성공");const{token:y,name:v}=n;localStorage.setItem("token",y),localStorage.setItem("name",v),window.location.href="/"}else n.message==="ID or password is incorrect"&&(window.alert("ID or password is incorrect"),x({userid:"",password:""}))}catch(r){console.error("오류:",r)}},w=e.jsxs(e.Fragment,{children:[e.jsxs(i,{spacing:3,children:[e.jsx(g,{name:"userid",label:"User ID",value:t.userid,onChange:o=>m(o),required:!0}),e.jsx(g,{value:t.password,name:"password",label:"Password",type:c?"text":"password",onChange:o=>m(o),InputProps:{endAdornment:e.jsx(L,{position:"end",children:e.jsx(I,{onClick:()=>f(!c),edge:"end",children:e.jsx(a,{icon:c?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(i,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:e.jsx(u,{variant:"subtitle2",underline:"hover",children:"Forgot password?"})}),e.jsx(F,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:j,children:"Login"})]});return e.jsxs(C,{sx:{...S({color:l(s.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(D,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(i,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(T,{sx:{p:5,width:1,maxWidth:420},children:[e.jsx(d,{variant:"h4",children:"Sign in to Minimal"}),e.jsxs(d,{variant:"body2",sx:{mt:2,mb:5},children:["Don’t have an account?",e.jsx(u,{variant:"subtitle2",sx:{ml:.5},href:"/signup",children:"Get started"})]}),e.jsxs(i,{direction:"row",spacing:2,children:[e.jsx(h,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",sx:{borderColor:l(s.palette.grey[500],.16)},children:e.jsx(a,{icon:"eva:google-fill",color:"#DF3E30"})}),e.jsx(h,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",sx:{borderColor:l(s.palette.grey[500],.16)},children:e.jsx(a,{icon:"eva:facebook-fill",color:"#1877F2"})}),e.jsx(h,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",sx:{borderColor:l(s.palette.grey[500],.16)},children:e.jsx(a,{icon:"eva:twitter-fill",color:"#1C9CEA"})})]}),e.jsx(P,{sx:{my:3},children:e.jsx(d,{variant:"body2",sx:{color:"text.secondary"},children:"OR"})}),w]})})]})}function _(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{children:e.jsx("title",{children:" Login | Minimal UI "})}),e.jsx(W,{})]})}export{_ as default};
