import{u as w,r as k,j as e,S as u,B as D,R as _,q as M,U as E,L as C,a as Y,T as S,W as O}from"./index-6a3765c9.js";import{T as a}from"./TextField-9ffe4a04.js";import{G as d}from"./Grid-67a03a99.js";import{L as T}from"./LoadingButton-f57c92e5.js";import{C as q}from"./Card-dcbc2fbe.js";import"./Select-64b2fb04.js";import"./Menu-40d259ed.js";import"./useControlled-76a3dc43.js";import"./useId-917933f6.js";import"./formControlState-f204c4d8.js";import"./isMuiElement-a2eee048.js";import"./CircularProgress-814520f3.js";const W=/^(19[0-9][0-9]|20\d{2})$/,v=/^([1-9]|0[1-9]|1[0-9]|2[0-9]|3[0-1])$/,F=/^(1[0-2]|[1-9]|0[1-9])$/;function I(){const c=w(),[t,p]=k.useState({name:"",birthdate_YY:"",birthdate_MM:"",birthdate_DD:"",userid:"",password:"",passwordConfirm:"",ispasswordMatch:!0,isyearOk:!0,ismonthOk:!0,isdayOk:!0,submitokay:!1,passwordMatchError:"",birYearError:"",birMonthError:"",birDayError:""}),s=l=>{const{name:i,value:n}=l.target,r={...t,[i]:n};i==="passwordConfirm"&&(r.submitokay=!0,r.ispasswordMatch=n===t.password),i.slice(0,-3)==="birthdate"&&(i==="birthdate_YY"&&!W.test(n)?(r.isyearOk=!1,r.birYearError="태어난 년도 4자리를 정확하게 입력하세요."):(r.isyearOk=!0,r.birYearError="",r.submitokay=!0),i==="birthdate_MM"&&!F.test(n)?(r.ismonthOk=!1,r.birMonthError="태어난 월을 정확하게 입력해주세요"):(r.ismonthOk=!0,r.birMonthError="",r.submitokay=!0),i==="birthdate_DD"&&!v.test(n)?(r.isdayOk=!1,r.birDayError="태어난 일을 정확하게 입력해주세요"):(r.birDayError="",r.isdayOk=!0,r.submitokay=!0)),p(r)},g=async l=>{if(l.preventDefault(),["name","birthdate_YY","birthdate_MM","birthdate_DD","userid","password","passwordConfirm"].some(o=>!t[o])){window.alert("Please fill in all required fields.");return}const{birthdate_YY:r,birthdate_MM:x,birthdate_DD:f,...y}=t,j=`${r}/${x}/${f}`,m={...y,birthdate:j};try{console.log(m);const o=await fetch("https://leadershipsurvey.pythonanywhere.com/signup_backend/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)}),h=await o.json();h.message==="EXISTS_ID"?(console.log(h),window.alert("The same ID exists")):h.message==="success"?(window.alert("success"),window.location.href="/signin"):console.log("서버오류 : ",o.status)}catch(o){console.error("오류:",o)}},b=e.jsxs(e.Fragment,{children:[e.jsxs(u,{spacing:3,children:[e.jsx(a,{label:"name",name:"name",margin:"dense",required:!0,fullWidth:!0,autoFocus:!0,onChange:s}),e.jsxs(d,{container:!0,children:[e.jsx(d,{item:!0,xs:4,paddingRight:"4px",children:e.jsx(a,{label:"birthyear",name:"birthdate_YY",margin:"dense",required:!0,fullWidth:!0,value:t.birthdate_YY,onChange:s,error:t.isyearOk===!1,helperText:t.birYearError})}),e.jsx(d,{item:!0,xs:4,children:e.jsx(a,{label:"birthmonth",name:"birthdate_MM",margin:"dense",required:!0,fullWidth:!0,value:t.birthdate_MM,onChange:s,error:t.ismonthOk===!1,helperText:t.birMonthError})}),e.jsx(d,{item:!0,xs:4,paddingLeft:"4px",children:e.jsx(a,{label:"birthdate",name:"birthdate_DD",margin:"dense",required:!0,fullWidth:!0,value:t.birthdate_DD,onChange:s,error:t.isdayOk===!1,helperText:t.birDayError})})]}),e.jsx(a,{label:"ID",name:"userid",margin:"dense",required:!0,fullWidth:!0,onChange:s}),e.jsx(a,{label:"PassWord",type:"password",name:"password",required:!0,fullWidth:!0,onChange:s,margin:"dense"}),e.jsx(a,{label:"Password Confirm",type:"password",name:"passwordConfirm",required:!0,fullWidth:!0,margin:"dense",onChange:s,error:t.ispasswordMatch===!1,helperText:t.errormessage})]}),e.jsx(T,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:g,sx:{mt:3},children:"SignIn"})]});return e.jsxs(D,{sx:{..._({color:M(c.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(E,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(u,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(q,{sx:{p:5,width:1,maxWidth:420},children:[e.jsxs(u,{direction:"row",spacing:2,alignItems:"center",position:"relative",children:[e.jsx(C,{href:"signin",children:e.jsx(Y,{position:"absolute",sx:{top:9},icon:"ic:twotone-arrow-back-ios"})}),e.jsx(S,{variant:"h4",sx:{pl:2,pb:5},children:"Sign Up"})]}),e.jsx("form",{children:b})]})})]})}function X(){return e.jsxs(e.Fragment,{children:[e.jsx(O,{children:e.jsx("title",{children:" SignUp "})}),e.jsx(I,{})]})}export{X as default};
