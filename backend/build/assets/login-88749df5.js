import{u as b,r as m,j as e,S as i,I,a,L as u,B as C,R as S,q as l,U as D,T as d,d as h,W as k}from"./index-e4c90194.js";import{T as g}from"./TextField-7bf38d0c.js";import{I as L}from"./InputAdornment-6bd2222e.js";import{L as F}from"./LoadingButton-a084c3ff.js";import{C as T}from"./Card-c3f6a303.js";import{D as P}from"./Divider-2d64dca1.js";import"./Select-683676ad.js";import"./Menu-9b0e473f.js";import"./useControlled-4b3cd520.js";import"./useId-7cc60968.js";import"./formControlState-129f4439.js";import"./isMuiElement-78255cb1.js";import"./CircularProgress-cb195e23.js";function W(){const s=b(),[c,f]=m.useState(!1),[t,x]=m.useState({userid:"",password:""});function p(o){const r={...t};r[o.target.name]=o.target.value,x(r)}const j=async o=>{o.preventDefault(),console.log(t);try{const n=await(await fetch("https://leadershipsurvey.pythonanywhere.com/login/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).json();if(console.log(n),n.message==="success"){console.log("로그인성공");const{token:w,name:v}=n;localStorage.setItem("token",w),localStorage.setItem("name",v),window.location.href="/"}else n.message==="ID or password is incorrect"&&(window.alert("ID or password is incorrect"),x({userid:"",password:""}))}catch(r){console.error("오류:",r)}},y=e.jsxs(e.Fragment,{children:[e.jsxs(i,{spacing:3,children:[e.jsx(g,{name:"userid",label:"User ID",value:t.userid,onChange:o=>p(o),required:!0}),e.jsx(g,{value:t.password,name:"password",label:"Password",type:c?"text":"password",onChange:o=>p(o),InputProps:{endAdornment:e.jsx(L,{position:"end",children:e.jsx(I,{onClick:()=>f(!c),edge:"end",children:e.jsx(a,{icon:c?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(i,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:e.jsx(u,{variant:"subtitle2",underline:"hover",children:"Forgot password?"})}),e.jsx(F,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:j,children:"Login"})]});return e.jsxs(C,{sx:{...S({color:l(s.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(D,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(i,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(T,{sx:{p:5,width:1,maxWidth:420},children:[e.jsx(d,{variant:"h4",children:"Sign in to Minimal"}),e.jsxs(d,{variant:"body2",sx:{mt:2,mb:5},children:["Don’t have an account?",e.jsx(u,{variant:"subtitle2",sx:{ml:.5},href:"/signup",children:"Get started"})]}),e.jsxs(i,{direction:"row",spacing:2,children:[e.jsx(h,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",sx:{borderColor:l(s.palette.grey[500],.16)},children:e.jsx(a,{icon:"eva:google-fill",color:"#DF3E30"})}),e.jsx(h,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",sx:{borderColor:l(s.palette.grey[500],.16)},children:e.jsx(a,{icon:"eva:facebook-fill",color:"#1877F2"})}),e.jsx(h,{fullWidth:!0,size:"large",color:"inherit",variant:"outlined",sx:{borderColor:l(s.palette.grey[500],.16)},children:e.jsx(a,{icon:"eva:twitter-fill",color:"#1C9CEA"})})]}),e.jsx(P,{sx:{my:3},children:e.jsx(d,{variant:"body2",sx:{color:"text.secondary"},children:"OR"})}),y]})})]})}function _(){return e.jsxs(e.Fragment,{children:[e.jsx(k,{children:e.jsx("title",{children:" Login "})}),e.jsx(W,{})]})}export{_ as default};
