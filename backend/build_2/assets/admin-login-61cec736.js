import{u as f,r as c,j as e,S as l,G as d,I as j,a as w,B as y,a2 as I,v as S,a3 as v,T as b,W as C}from"./index-17c328d3.js";import{I as k}from"./InputAdornment-c5dd7387.js";import{L as D}from"./LoadingButton-7b910355.js";import{C as L}from"./Card-b5c0bc83.js";import"./CircularProgress-cd308a84.js";function P(){const g=f(),[a,p]=c.useState(!1),[n,r]=c.useState({userid:"",password:""});function i(s){const o={...n};o[s.target.name]=s.target.value,r(o)}const m=async s=>{s.preventDefault(),console.log(n);try{const t=await(await fetch("http://127.0.0.1:8000/adminlogin/",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json();if(console.log(t),t.message==="success"){console.log("로그인성공");const{token:u,name:x}=t;localStorage.setItem("token",u),localStorage.setItem("name",x),window.location.href="/"}else t.message==="ID or password is incorrect"&&(window.alert("ID or password is incorrect"),r({userid:"",password:""}))}catch(o){console.error("오류:",o)}},h=e.jsxs(e.Fragment,{children:[e.jsxs(l,{spacing:3,children:[e.jsx(d,{name:"userid",label:"admin ID",value:n.userid,onChange:s=>i(s),required:!0}),e.jsx(d,{value:n.password,name:"password",label:"Password",type:a?"text":"password",onChange:s=>i(s),InputProps:{endAdornment:e.jsx(k,{position:"end",children:e.jsx(j,{onClick:()=>p(!a),edge:"end",children:e.jsx(w,{icon:a?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),e.jsx(D,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",onClick:m,children:"Login"})]});return e.jsxs(y,{sx:{...I({color:S(g.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[e.jsx(v,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),e.jsx(l,{alignItems:"center",justifyContent:"center",sx:{height:1},children:e.jsxs(L,{sx:{p:5,width:1,maxWidth:420},children:[e.jsx(b,{variant:"h4",children:"ADMIN Sign in"}),h]})})]})}function E(){return e.jsxs(e.Fragment,{children:[e.jsx(C,{children:e.jsx("title",{children:" Login "})}),e.jsx(P,{})]})}export{E as default};
